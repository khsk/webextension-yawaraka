# webextension-yawaraka
テキストの長音をページ読み込み完了時に母音に変換する拡張  

Chromeで動作確認

# 例

## Before
![2018-11-28_13h54_26](https://user-images.githubusercontent.com/10125386/49130044-62aa7080-f315-11e8-89ab-6547ac463101.png)



## After
![2018-11-28_13h55_21](https://user-images.githubusercontent.com/10125386/49130046-663df780-f315-11e8-8440-3072356a18fa.png)

やわらかさを狙ったつもりがどちらかというとレトロ風味が強くなってしまいました。  
やはりひらがな化と捨て仮名化が重要な気が…

# 作成(作業)時期

2017/12頃

# 記録

「らぁめん」のような「ー」を母音、小文字に変換するとなんとなく優しくて貴い音に見えますよね。  
そこで「ー」の前の文字を見て、その母音で変換するようなプログラムを作ろうとしていました。  
最初はひらがな50文字とその母音のマップを作成しようと考えましたが、  
カタカナや濁点・半濁点を含めると数が大きくなることから、母音抽出を日本語ライブラリに任せることにしました。  
しかし、複数の日本語ライブラリ自体に長音を変換する機能があったため、ただのTextNodeに日本語ライブラリ(jaco)を適用するだけの拡張になってしまいました。

そのあたりで手が止まっていた状態のコードです。  
変換処理がロード完了後のみでDOMを監視していないため動的な変更に対応できていません。

構想的には母音だけではなく小文字(捨て仮名 ぁ)を使い分け、  
長音符の前が母音の場合は捨て仮名にしたり、  
長音符の前が捨て仮名の場合は捨て仮名にしたり、  
長音を含む単語の場合、変換時にひらがなに変換する(ラーメン → らぁめん)  
などを考えていましたが、パターンを作成する手間と、その前にjaco単体で8割やりたいことが完結してしまったため放置ぎみでした。


# ライブラリ

[jaco-project/jaco-js: Japanese character optimizer for JavaScript](https://github.com/jaco-project/jaco-js)

